# 3D Maze Game

ファーストパーソン視点の3D迷路ゲームです。スマートフォンに最適化された操作とUIを提供します。

## 🎮 ゲーム概要

- **目的**: 鍵を見つけて出口に到達する
- **視点**: ファーストパーソン視点
- **迷路**: 毎回ランダムに生成される3D迷路
- **プラットフォーム**: Webブラウザ（スマートフォン最適化）

## ✨ 機能

### 🎯 基本機能
- ランダム迷路生成（Recursive Backtrackingアルゴリズム）
- ファーストパーソン視点での3D迷路探索
- 鍵取得システム
- 出口到達判定

### 🗺️ ミニマップ機能
- 左上に配置されたミニマップ
- 探索済みエリアの表示
- 現在位置の表示
- 鍵と出口の位置表示（発見後）

### 📊 スコアシステム
- 右上に歩数と経過時間を表示
- リアルタイム更新
- クリア時の最終スコア表示

### 📱 スマートフォン最適化
- 仮想ジョイスティック（左下）での移動操作
- タッチドラッグでの視点変更
- レスポンシブデザイン
- 縦画面・横画面対応

## 🚀 セットアップ

1. プロジェクトをクローンまたはダウンロード
2. Webサーバーでホスト（ローカルサーバーでも可）
3. ブラウザで `index.html` を開く

### ローカルサーバーの起動例

```bash
# Python 3
python -m http.server 8000

# Node.js (http-server)
npx http-server

# PHP
php -S localhost:8000
```

## 🎮 操作方法

### スマートフォン
- **移動**: 左下の仮想ジョイスティック
- **視点変更**: 画面をドラッグ
- **リスタート**: クリア画面の「もう一度プレイ」ボタン

### デスクトップ
- **移動**: WASDキーまたは矢印キー
- **視点変更**: マウスドラッグまたはポインターロック
- **リスタート**: クリア画面の「もう一度プレイ」ボタン

## 🛠️ 技術仕様

### 使用技術
- **Three.js**: 3Dレンダリング
- **HTML5**: マークアップ
- **CSS3**: スタイリング・レスポンシブデザイン
- **JavaScript (ES6+)**: ゲームロジック

### ファイル構成
```
Maze/
├── index.html          # メインHTMLファイル
├── css/
│   └── style.css       # スタイルシート
├── js/
│   ├── main.js         # メインゲームロジック
│   ├── maze.js         # ランダム迷路生成・管理
│   ├── player.js       # プレイヤー制御
│   ├── controls.js     # 操作制御
│   ├── minimap.js      # ミニマップ制御
│   ├── score.js        # スコア管理
│   └── ui.js          # UI制御
├── assets/
│   └── textures/       # テクスチャファイル
├── requirements.md     # 要件定義書
└── README.md          # このファイル
```

### 迷路仕様
- **サイズ**: 10x10x3（幅x奥行x高さ）
- **生成アルゴリズム**: Recursive Backtracking
- **生成時間**: 3秒以内
- **特性**: 必ず解が存在する迷路

## 🎯 ゲーム要素

### アイテム配置
- **開始地点**: 固定位置（0,0,0）
- **鍵**: 開始地点から離れた場所にランダム配置
- **出口**: 鍵から離れた場所にランダム配置

### ミニマップ表示
- **未探索エリア**: 透明/グレー
- **探索済みエリア**: 薄い青色
- **壁**: 濃いグレー
- **現在位置**: 赤い点
- **鍵**: 金色の点（発見後）
- **出口**: 緑色の点（発見後）

## 📱 対応ブラウザ

- Chrome (Android)
- Safari (iOS)
- Firefox (Android)
- Edge (Android)
- Chrome (Desktop)
- Firefox (Desktop)
- Safari (Desktop)

## 🔧 カスタマイズ

### 迷路サイズの変更
`js/maze.js` の `MazeGenerator` コンストラクタで変更可能：

```javascript
new MazeGenerator(width, height, depth)
```

### 移動速度の変更
`js/player.js` の `moveSpeed` プロパティで変更可能：

```javascript
this.moveSpeed = 0.1; // デフォルト値
```

### 色の変更
`js/minimap.js` の `colors` オブジェクトで変更可能：

```javascript
this.colors = {
    unexplored: 'rgba(50, 50, 50, 0.3)',
    explored: 'rgba(100, 150, 255, 0.7)',
    // ...
};
```

## 🐛 トラブルシューティング

### よくある問題

1. **迷路が表示されない**
   - Webサーバー経由でアクセスしているか確認
   - ブラウザのコンソールでエラーを確認

2. **操作が反応しない**
   - スマートフォンの場合、タッチ操作を確認
   - デスクトップの場合、キーボード操作を確認

3. **パフォーマンスが悪い**
   - ブラウザのハードウェアアクセラレーションを有効化
   - 他のタブやアプリケーションを閉じる

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能提案は、GitHubのIssuesでお知らせください。

---

**開発者**: AI Assistant  
**作成日**: 2024年  
**バージョン**: 1.0



